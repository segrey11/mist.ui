<script type="module" src="@polymer/polymer/polymer-legacy.js"></script>
<script type="module" src="@polymer/iron-validator-behavior/iron-validator-behavior.js"></script>
<script type="module">
import '@polymer/polymer/polymer-legacy.js';
import { IronValidatorBehavior } from '@polymer/iron-validator-behavior/iron-validator-behavior.js';
import { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';

Polymer({

    is: 'ip-validator',

    behaviors: [
        IronValidatorBehavior
    ],

    validate(str) {
        if (str && !(/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(str.trim()))) {
            return false;
        }
        return true;
    }

});
</script>